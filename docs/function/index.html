<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../">
  <title data-ice="title">Function | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~CSS2Properties.html">CSS2Properties</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~CSSStyleDeclaration.html">CSSStyleDeclaration</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~CSSStyleSheet.html">CSSStyleSheet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~Crypto.html">Crypto</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~Date.html">Date</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~Element.html">Element</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~HTMLAnchorElement.html">HTMLAnchorElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~HTMLAudioElement.html">HTMLAudioElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~HTMLBaseElement.html">HTMLBaseElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~HTMLElement.html">HTMLElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~HTMLEmbedElement.html">HTMLEmbedElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~HTMLIFrameElement.html">HTMLIFrameElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~HTMLImageElement.html">HTMLImageElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~HTMLInputElement.html">HTMLInputElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~HTMLLinkElement.html">HTMLLinkElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~HTMLObjectElement.html">HTMLObjectElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~HTMLScriptElement.html">HTMLScriptElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~HTMLSourceElement.html">HTMLSourceElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~HTMLStyleElement.html">HTMLStyleElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~HTMLVideoElement.html">HTMLVideoElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~History.html">History</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~Math.html">Math</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~Node.html">Node</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~WombatLocation.html">WombatLocation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~Worker.html">Worker</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~XMLHttpRequest.html">XMLHttpRequest</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/toDoc/wombat.js~document.html">document</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-def_prop">def_prop</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-extract_orig">extract_orig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fetch">fetch</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-init_form_overrides">init_form_overrides</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-init_iframe_wombat">init_iframe_wombat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-init_loc_override">init_loc_override</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-init_new_window_wombat">init_new_window_wombat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-is_host_url">is_host_url</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-make_parser">make_parser</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-override_attr">override_attr</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-override_html_assign">override_html_assign</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-replace_dom_func">replace_dom_func</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-rewrite_attr">rewrite_attr</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-rewrite_elem">rewrite_elem</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-rewrite_html">rewrite_html</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">Function</h1>
<div data-ice="summaries"><table class="summary" data-ice="summary">
  <thead><tr><td data-ice="title" colspan="3">Static Public Summary</td></tr></thead>
  <tbody>
  
  <tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
          
          
          <span data-ice="name"><span><a href="function/index.html#static-function-def_prop">def_prop</a></span></span><span data-ice="signature">(obj: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span>, prop: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></span>, set_func: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function">function</a></span>, get_func: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function">function</a></span>, enumerable: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></span>): <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></span> | <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a></span></span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description"><p>Override a DOM property</p>
</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
          
          
          <span data-ice="name"><span><a href="function/index.html#static-function-extract_orig">extract_orig</a></span></span><span data-ice="signature">(href: <span>*</span>): <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></span></span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description"><p>if proxy mode no extraction
else if href contains ignored prefixes [&quot;#&quot;, &quot;about:&quot;, &quot;data:&quot;, &quot;mailto:&quot;, &quot;javascript:&quot;, &quot;{&quot;, &quot;*&quot;] ignore
else remove wb url part and return original</p>
</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
          
          
          <span data-ice="name"><span><a href="function/index.html#static-function-fetch">fetch</a></span></span><span data-ice="signature">(input: <span>*</span>, init: <span>*</span>)</span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description"><p>override window.fetch
rewrite url and call original</p>
</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
          
          
          <span data-ice="name"><span><a href="function/index.html#static-function-init_form_overrides">init_form_overrides</a></span></span><span data-ice="signature">($wbwindow: <span>*</span>)</span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description"><p><span><a href="function/index.html#static-function-override_attr">override_attr</a></span></p>
</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
          
          
          <span data-ice="name"><span><a href="function/index.html#static-function-init_iframe_wombat">init_iframe_wombat</a></span></span><span data-ice="signature">(iframe: <span>*</span>)</span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description"><p> setup iframe for either captured pages or replay iframe
<span><a href="function/index.html#static-function-init_new_window_wombat">init_new_window_wombat</a></span></p>
</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
          
          
          <span data-ice="name"><span><a href="function/index.html#static-function-init_loc_override">init_loc_override</a></span></span><span data-ice="signature">(loc_obj: <span>*</span>, orig_setter: <span>*</span>, orig_getter: <span>*</span>)</span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description"><p>more fun times for url rewriting
<span><a href="function/index.html#static-function-make_parser">make_parser</a></span>
<span><a href="function/index.html#static-function-def_prop">def_prop</a></span></p>
</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
          
          
          <span data-ice="name"><span><a href="function/index.html#static-function-init_new_window_wombat">init_new_window_wombat</a></span></span><span data-ice="signature">(win: <span>*</span>, src: <span>*</span>)</span>
        </p>
      </div>
      <div>
        
        
        
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
          
          
          <span data-ice="name"><span><a href="function/index.html#static-function-is_host_url">is_host_url</a></span></span><span data-ice="signature">(str: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></span>): <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></span></span>
        </p>
      </div>
      <div>
        
        
        
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
          
          
          <span data-ice="name"><span><a href="function/index.html#static-function-make_parser">make_parser</a></span></span><span data-ice="signature">(href: <span>*</span>): <span><a href="class/toDoc/wombat.js~Element.html">Element</a></span></span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description"><p> create an a tag in top frame(not replay iframe)
 and use the tag to parse href after <span><a href="function/index.html#static-function-extract_orig">extract_orig</a></span>
 special case: for newly opened blank windows, use the opener
    to create parser to have the proper baseURI</p>
</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
          
          
          <span data-ice="name"><span><a href="function/index.html#static-function-override_attr">override_attr</a></span></span><span data-ice="signature">(obj: <span>*</span>, attr: <span>*</span>, mod: <span>*</span>, default_to_setget: <span>*</span>)</span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description"><p>Override attribute using getters and setters</p>
</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
          
          
          <span data-ice="name"><span><a href="function/index.html#static-function-override_html_assign">override_html_assign</a></span></span><span data-ice="signature">(elemtype: <span>*</span>, prop: <span>*</span>)</span>
        </p>
      </div>
      <div>
        
        
        
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
          
          
          <span data-ice="name"><span><a href="function/index.html#static-function-replace_dom_func">replace_dom_func</a></span></span><span data-ice="signature">(funcname: <span>*</span>)</span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description"><p>replace dom function with own
<span><a href="function/index.html#static-function-init_iframe_wombat">init_iframe_wombat</a></span></p>
</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
          
          
          <span data-ice="name"><span><a href="function/index.html#static-function-rewrite_attr">rewrite_attr</a></span></span><span data-ice="signature">(elem: <span>*</span>, name: <span>*</span>, abs_url_only: <span>*</span>)</span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description"><p>rewrite urls of the elements</p>
</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
          
          
          <span data-ice="name"><span><a href="function/index.html#static-function-rewrite_elem">rewrite_elem</a></span></span><span data-ice="signature">(elem: <span>*</span>)</span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description"><p><span><a href="function/index.html#static-function-rewrite_attr">rewrite_attr</a></span></p>
</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
          
          
          <span data-ice="name"><span><a href="function/index.html#static-function-rewrite_html">rewrite_html</a></span></span><span data-ice="signature">(string: <span>*</span>, check_end_tag: <span>*</span>)</span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description"><p><span><a href="function/index.html#static-function-rewrite_elem">rewrite_elem</a></span></p>
</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
</tbody>
</table>
</div>
<div data-ice="details"><h2 data-ice="title">Static Public </h2>

<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-function-def_prop">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    
    <span data-ice="name">def_prop</span><span data-ice="signature">(obj: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span>, prop: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></span>, set_func: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function">function</a></span>, get_func: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function">function</a></span>, enumerable: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></span>): <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></span> | <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a></span></span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/toDoc/wombat.js.html#lineNumber344">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>Override a DOM property</p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">obj</td>
      <td data-ice="type"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>the object to define custom prop of</p>
</td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">prop</td>
      <td data-ice="type"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>the prop to be overridden</p>
</td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">set_func</td>
      <td data-ice="type"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function">function</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>own setter function</p>
</td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">get_func</td>
      <td data-ice="type"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function">function</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>own getter function</p>
</td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">enumerable</td>
      <td data-ice="type"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>is enumerable</p>
</td>
    </tr>
</tbody>
  </table>
</div>
</div>

  <div class="return-params" data-ice="returnParams">
    <h4>Return:</h4>
    <table>
      <tbody>
        <tr>
          <td class="return-type" data-ice="returnType"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></span> | <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a></span></td>
          <td class="return-desc" data-ice="returnDescription"><p>if override was successful or not</p>
</td>
        </tr>
      </tbody>
    </table>
    <div data-ice="returnProperties">
</div>
  </div>

  

  

  

  

  

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-function-extract_orig">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    
    <span data-ice="name">extract_orig</span><span data-ice="signature">(href: <span>*</span>): <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></span></span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/toDoc/wombat.js.html#lineNumber284">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>if proxy mode no extraction
else if href contains ignored prefixes [&quot;#&quot;, &quot;about:&quot;, &quot;data:&quot;, &quot;mailto:&quot;, &quot;javascript:&quot;, &quot;{&quot;, &quot;*&quot;] ignore
else remove wb url part and return original</p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">href</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
</tbody>
  </table>
</div>
</div>

  <div class="return-params" data-ice="returnParams">
    <h4>Return:</h4>
    <table>
      <tbody>
        <tr>
          <td class="return-type" data-ice="returnType"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></span></td>
          <td class="return-desc" data-ice="returnDescription"><p>original href</p>
</td>
        </tr>
      </tbody>
    </table>
    <div data-ice="returnProperties">
</div>
  </div>

  

  

  

  

  

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-function-fetch">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    
    <span data-ice="name">fetch</span><span data-ice="signature">(input: <span>*</span>, init: <span>*</span>)</span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/toDoc/wombat.js.html#lineNumber352">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>override window.fetch
rewrite url and call original</p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">input</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">init</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
</tbody>
  </table>
</div>
</div>

  

  

  

  

  

  

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-function-init_form_overrides">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    
    <span data-ice="name">init_form_overrides</span><span data-ice="signature">($wbwindow: <span>*</span>)</span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/toDoc/wombat.js.html#lineNumber305">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p><span><a href="function/index.html#static-function-override_attr">override_attr</a></span></p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">$wbwindow</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
</tbody>
  </table>
</div>
</div>

  

  

  

  

  

  <div data-ice="example">
    <h4>Example:</h4>
    
  <div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">var do_init_forms = function() {
  for (var i = 0; i &lt; $wbwindow.document.forms.length; i++) {
    var new_action = rewrite_url($wbwindow.document.forms[i].action);
    if (new_action != $wbwindow.document.forms[i].action) {
      $wbwindow.document.forms[i].action = new_action;
    }
    override_attr($wbwindow.document.forms[i], &quot;action&quot;, &quot;&quot;, true);
  }
}

if (document.readyState == &quot;loading&quot;) {
  document.addEventListener(&quot;DOMContentLoaded&quot;, do_init_forms);
} else {
  do_init_forms();
}</code></pre>
    </div>
</div>

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-function-init_iframe_wombat">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    
    <span data-ice="name">init_iframe_wombat</span><span data-ice="signature">(iframe: <span>*</span>)</span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/toDoc/wombat.js.html#lineNumber235">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p> setup iframe for either captured pages or replay iframe
<span><a href="function/index.html#static-function-init_new_window_wombat">init_new_window_wombat</a></span></p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">iframe</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
</tbody>
  </table>
</div>
</div>

  

  

  

  

  

  <div data-ice="example">
    <h4>Example:</h4>
    
  <div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">// imp
var win;

if (iframe._get_contentWindow) {
   win = iframe._get_contentWindow.call(iframe);
 } else {
   win = iframe.contentWindow;
 }

try {
   if (!win || win == $wbwindow || win._skip_wombat || win._wb_wombat) {
     return;
   }
 } catch (e) {
  return;
}

//var src = iframe.src;
var src = wb_getAttribute.call(iframe, &quot;src&quot;);

init_new_window_wombat(win, src);</code></pre>
    </div>
</div>

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-function-init_loc_override">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    
    <span data-ice="name">init_loc_override</span><span data-ice="signature">(loc_obj: <span>*</span>, orig_setter: <span>*</span>, orig_getter: <span>*</span>)</span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/toDoc/wombat.js.html#lineNumber37">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>more fun times for url rewriting
<span><a href="function/index.html#static-function-make_parser">make_parser</a></span>
<span><a href="function/index.html#static-function-def_prop">def_prop</a></span></p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">loc_obj</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">orig_setter</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">orig_getter</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
</tbody>
  </table>
</div>
</div>

  

  

  

  

  

  

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-function-init_new_window_wombat">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    
    <span data-ice="name">init_new_window_wombat</span><span data-ice="signature">(win: <span>*</span>, src: <span>*</span>)</span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/toDoc/wombat.js.html#lineNumber206">source</a></span></span>
    </span>
  </h3>

  
  
  
  

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">win</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">src</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
</tbody>
  </table>
</div>
</div>

  

  

  

  

  

  <div data-ice="example">
    <h4>Example:</h4>
    
  <div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">//imp
if (!src || src == &quot;&quot; || src == &quot;about:blank&quot; || src.indexOf(&quot;javascript:&quot;) &gt;= 0) {
  win._WBWombat = wombat_internal(win);
  win._wb_wombat = new win._WBWombat(wb_info);
} else {
  // These should get overriden when content is loaded, but just in case...
  //win._WB_wombat_location = win.location;
  //win.document.WB_wombat_location = win.document.location;
  //win._WB_wombat_top = $wbwindow.WB_wombat_top;

  init_proto_pm_origin(win);
  //init_postmessage_override(win);
}</code></pre>
    </div>
</div>

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-function-is_host_url">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    
    <span data-ice="name">is_host_url</span><span data-ice="signature">(str: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></span>): <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></span></span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/toDoc/wombat.js.html#lineNumber333">source</a></span></span>
    </span>
  </h3>

  
  
  
  

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">str</td>
      <td data-ice="type"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
</tbody>
  </table>
</div>
</div>

  <div class="return-params" data-ice="returnParams">
    <h4>Return:</h4>
    <table>
      <tbody>
        <tr>
          <td class="return-type" data-ice="returnType"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></span></td>
          <td class="return-desc" data-ice="returnDescription"><p>if is host url</p>
</td>
        </tr>
      </tbody>
    </table>
    <div data-ice="returnProperties">
</div>
  </div>

  

  

  

  

  <div data-ice="example">
    <h4>Example:</h4>
    
  <div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">str.indexOf(&quot;www.&quot;) == 0 -&gt; true</code></pre>
    </div>
<div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">// hostname:port (port required)
str.match(/^[\w-]+(\.[\w-_]+)+(:\d+)(\/|$)/) and match len &lt; 64 -&gt; true</code></pre>
    </div>
<div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">// ip:port
str.match(/^\d+\.\d+\.\d+\.\d+(:\d+)?(\/|$)/) and match len &lt; 64 -&gt; true</code></pre>
    </div>
</div>

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-function-make_parser">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    
    <span data-ice="name">make_parser</span><span data-ice="signature">(href: <span>*</span>): <span><a href="class/toDoc/wombat.js~Element.html">Element</a></span></span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/toDoc/wombat.js.html#lineNumber316">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p> create an a tag in top frame(not replay iframe)
 and use the tag to parse href after <span><a href="function/index.html#static-function-extract_orig">extract_orig</a></span>
 special case: for newly opened blank windows, use the opener
    to create parser to have the proper baseURI</p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">href</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
</tbody>
  </table>
</div>
</div>

  <div class="return-params" data-ice="returnParams">
    <h4>Return:</h4>
    <table>
      <tbody>
        <tr>
          <td class="return-type" data-ice="returnType"><span><a href="class/toDoc/wombat.js~Element.html">Element</a></span></td>
          
        </tr>
      </tbody>
    </table>
    <div data-ice="returnProperties">
</div>
  </div>

  

  

  

  

  

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-function-override_attr">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    
    <span data-ice="name">override_attr</span><span data-ice="signature">(obj: <span>*</span>, attr: <span>*</span>, mod: <span>*</span>, default_to_setget: <span>*</span>)</span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/toDoc/wombat.js.html#lineNumber27">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>Override attribute using getters and setters</p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">obj</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">attr</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">mod</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">default_to_setget</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
</tbody>
  </table>
</div>
</div>

  

  

  

  

  

  <div data-ice="example">
    <h4>Example:</h4>
    
  <div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">var orig_getter = get_orig_getter(obj, attr);
var orig_setter = get_orig_setter(obj, attr);
 var setter = function(orig) {
   var val = rewrite_url(orig, false, mod);
   if (orig_setter) {
     return orig_setter.call(this, val);
   } else if (default_to_setget) {
     return wb_setAttribute.call(this, attr, val);
   }
 }
 var getter = function() {
      var res = undefined;
     if (orig_getter) {
       res = orig_getter.call(this);
    } else if (default_to_setget) {
     res = wb_getAttribute.call(this, attr);
   }
   res = extract_orig(res);
      return res;
    }
 def_prop(obj, attr, setter, getter);</code></pre>
    </div>
</div>

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-function-override_html_assign">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    
    <span data-ice="name">override_html_assign</span><span data-ice="signature">(elemtype: <span>*</span>, prop: <span>*</span>)</span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/toDoc/wombat.js.html#lineNumber71">source</a></span></span>
    </span>
  </h3>

  
  
  
  

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">elemtype</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">prop</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
</tbody>
  </table>
</div>
</div>

  

  

  

  

  

  <div data-ice="example">
    <h4>Example:</h4>
    
  <div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">if (!$wbwindow.DOMParser ||
  !elemtype ||
  !elemtype.prototype) {
  return;
}

var obj = elemtype.prototype;

var orig_getter = get_orig_getter(obj, prop);
var orig_setter = get_orig_setter(obj, prop);

if (!orig_setter) {
  return;
}

var setter = function(orig) {
  var res = orig;
  if (!this._no_rewrite) {
    //init_iframe_insert_obs(this);
    if (this.tagName == &quot;STYLE&quot;) {
      res = rewrite_style(orig);
    } else {
      res = rewrite_html(orig);
    }
  }
  orig_setter.call(this, res);
}

def_prop(obj, prop, setter, orig_getter);</code></pre>
    </div>
</div>

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-function-replace_dom_func">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    
    <span data-ice="name">replace_dom_func</span><span data-ice="signature">(funcname: <span>*</span>)</span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/toDoc/wombat.js.html#lineNumber274">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>replace dom function with own
<span><a href="function/index.html#static-function-init_iframe_wombat">init_iframe_wombat</a></span></p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">funcname</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
</tbody>
  </table>
</div>
</div>

  

  

  

  

  

  <div data-ice="example">
    <h4>Example:</h4>
    
  <div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">//imp
var orig = $wbwindow.Node.prototype[funcname];

$wbwindow.Node.prototype[funcname] = function() {
  var child = arguments[0];

  if (child) {

    if (child instanceof $wbwindow.Element) {
      rewrite_elem(child);
    } else if (child instanceof $wbwindow.Text) {
      if (this.tagName == &quot;STYLE&quot;) {
        child.textContent = rewrite_style(child.textContent);
      }
    }

    // if fragment, rewrite children before adding
    //if (child instanceof DocumentFragment) {
    //   rewrite_children(child);
    //}
  }

  var created = orig.apply(this, arguments);

  if (created &amp;&amp; created.tagName == &quot;IFRAME&quot;) {
    init_iframe_wombat(created);
  }

  return created;
}</code></pre>
    </div>
</div>

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-function-rewrite_attr">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    
    <span data-ice="name">rewrite_attr</span><span data-ice="signature">(elem: <span>*</span>, name: <span>*</span>, abs_url_only: <span>*</span>)</span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/toDoc/wombat.js.html#lineNumber79">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>rewrite urls of the elements</p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">elem</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">name</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">abs_url_only</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
</tbody>
  </table>
</div>
</div>

  

  

  

  

  

  

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-function-rewrite_elem">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    
    <span data-ice="name">rewrite_elem</span><span data-ice="signature">(elem: <span>*</span>)</span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/toDoc/wombat.js.html#lineNumber128">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p><span><a href="function/index.html#static-function-rewrite_attr">rewrite_attr</a></span></p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">elem</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
</tbody>
  </table>
</div>
</div>

  

  

  

  

  

  <div data-ice="example">
    <h4>Example:</h4>
    
  <div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">if (!elem) {
  return;
}

var changed;

if (elem.tagName == &quot;STYLE&quot;) {
  var new_content = rewrite_style(elem.textContent);
  if (elem.textContent != new_content) {
    elem.textContent = new_content;
    changed = true;
  }
} else if (elem.tagName == &quot;OBJECT&quot;) {
  changed = rewrite_attr(elem, &quot;data&quot;, true);
} else if (elem.tagName == &quot;FORM&quot;) {
  changed = rewrite_attr(elem, &quot;action&quot;, true);
} else if (elem.tagName == &quot;INPUT&quot;) {
  changed = rewrite_attr(elem, &quot;value&quot;, true);
} else if (elem.tagName == &quot;IFRAME&quot; || elem.tagName == &quot;FRAME&quot;) {
  changed = rewrite_frame_src(elem, &quot;src&quot;);
} else {
  changed = rewrite_attr(elem, &quot;src&quot;);
  changed = rewrite_attr(elem, &quot;srcset&quot;) || changed;
  changed = rewrite_attr(elem, &quot;href&quot;) || changed;
  changed = rewrite_attr(elem, &quot;style&quot;) || changed;
  changed = rewrite_attr(elem, &quot;poster&quot;) || changed;
}

if (elem.getAttribute) {
  if (elem.getAttribute(&quot;crossorigin&quot;)) {
    elem.removeAttribute(&quot;crossorigin&quot;);
    changed = true;
  }

  if (elem.getAttribute(&quot;integrity&quot;)) {
    elem.removeAttribute(&quot;integrity&quot;);
    changed = true;
  }
}

return changed;</code></pre>
    </div>
</div>

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-function-rewrite_html">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    
    <span data-ice="name">rewrite_html</span><span data-ice="signature">(string: <span>*</span>, check_end_tag: <span>*</span>)</span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/toDoc/wombat.js.html#lineNumber185">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p><span><a href="function/index.html#static-function-rewrite_elem">rewrite_elem</a></span></p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">string</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">check_end_tag</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
</tbody>
  </table>
</div>
</div>

  

  

  

  

  

  <div data-ice="example">
    <h4>Example:</h4>
    
  <div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">if (!string) {
  return string;
}

if (write_buff) {
  string = write_buff + string;
  write_buff = &quot;&quot;;
}
var inner_doc = new DOMParser().parseFromString(string, &quot;text/html&quot;);

if (!inner_doc) {
  return string;
}

string = string.toString();

var changed = false;

for (var i = 0; i &lt; inner_doc.all.length; i++) {
  changed = rewrite_elem(inner_doc.all[i]) || changed;
}

if (!changed) {
  return string;
}

var new_html = &quot;&quot;;

// if original had &lt;html&gt; tag, add full document HTML
if (string &amp;&amp; string.indexOf(&quot;&lt;html&quot;) &gt;= 0) {
  new_html = inner_doc.documentElement.outerHTML;
} else {
  // otherwise, just add contents of head and body
  new_html = inner_doc.head.innerHTML;
  new_html += inner_doc.body.innerHTML;

  if (check_end_tag) {
    if (inner_doc.all.length &gt; 3) {
      var end_tag = &quot;&lt;/&quot; + inner_doc.all[3].tagName.toLowerCase() + &quot;&gt;&quot;;
      if (ends_with(new_html, end_tag) &amp;&amp; !ends_with(string, end_tag)) {
        new_html = new_html.substring(0, new_html.length - end_tag.length);
      }
    } else if (string[0] != &quot;&lt;&quot; || string[string.length - 1] != &quot;&gt;&quot;) {
      write_buff += string;
      return;
    }
  }
}

return new_html;</code></pre>
    </div>
</div>

  

  
  
</div>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.2)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
